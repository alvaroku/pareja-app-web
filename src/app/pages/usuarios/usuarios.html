<div class="px-4 py-6">
  <div class="flex items-center justify-between mb-6">
    <h2
      class="text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent flex items-center gap-2"
    >
      <lucide-icon name="users" [size]="32"></lucide-icon>
      Usuarios
    </h2>
    <button
      (click)="openCreateModal()"
      class="px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold rounded-2xl hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg shadow-pink-500/30"
    >
      <lucide-icon name="plus" size="24"></lucide-icon>
    </button>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    @for (usuario of usuarios(); track usuario.id) {
    <div class="bg-white/95 backdrop-blur-xl rounded-3xl p-6 hover:shadow-xl transition-all">
      <!-- Avatar -->
      <div class="flex items-start gap-4 mb-4">
        <div
          class="w-16 h-16 rounded-full bg-gradient-to-br from-pink-400 to-purple-500 flex items-center justify-center text-white text-2xl font-bold"
        >
          {{ usuario.nombre.charAt(0).toUpperCase() }}
        </div>
        <div class="flex-1">
          <h3 class="font-bold text-lg text-gray-800">{{ usuario.nombre }}</h3>
          <p class="text-sm text-gray-600">{{ usuario.email }}</p>
          <span
            class="inline-block mt-1 px-3 py-1 rounded-full text-xs font-semibold"
            [class.bg-purple-100]="usuario.role === UserRole.SuperAdmin"
            [class.text-purple-700]="usuario.role === UserRole.SuperAdmin"
            [class.bg-blue-100]="usuario.role === UserRole.User"
            [class.text-blue-700]="usuario.role === UserRole.User"
          >
            {{ usuario.role | userRole }}
          </span>
        </div>
      </div>

      <!-- Info adicional -->
      @if (usuario.telefono) {
      <div class="flex items-center gap-2 text-sm text-gray-600 mb-2">
        <lucide-icon name="phone" [size]="16"></lucide-icon>
        <span>{{ usuario.codigoPais }} {{ usuario.telefono }}</span>
      </div>
      }

      <!-- Acciones -->
      <div class="flex gap-2 mt-4">
        <button
          (click)="openEditModal(usuario)"
          class="flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-50 to-indigo-50 text-indigo-600 font-semibold rounded-xl text-sm hover:from-blue-100 hover:to-indigo-100 transition-all flex items-center justify-center gap-1.5"
        >
          <lucide-icon name="edit" [size]="16"></lucide-icon>
          <span class="hidden sm:inline">Editar</span>
        </button>

        <button
          (click)="deleteUsuario(usuario)"
          class="flex-1 px-4 py-2.5 bg-gradient-to-r from-red-50 to-pink-50 text-red-600 font-semibold rounded-xl text-sm hover:from-red-100 hover:to-pink-100 transition-all flex items-center justify-center gap-1.5"
        >
          <lucide-icon name="trash-2" [size]="16"></lucide-icon>
          <span class="hidden sm:inline">Eliminar</span>
        </button>
        <button
          (click)="openNotificationModal(usuario)"
          class="px-4 py-2.5 bg-gradient-to-r from-purple-50 to-pink-50 text-purple-600 font-semibold rounded-xl hover:from-purple-100 hover:to-pink-100 transition-all"
        >
          <lucide-icon name="bell" [size]="16"></lucide-icon>
        </button>
      </div>
    </div>
    }
  </div>

  @if (usuarios().length === 0) {
    <div class="text-center py-12 bg-white/90 rounded-3xl">
      <div class="mb-4 opacity-30 flex justify-center">
        <lucide-icon name="users" class="text-gray-400" [size]="64"></lucide-icon>
      </div>
      <p class="text-gray-500">No hay usuarios registrados</p>
    </div>
  }
  </div>

