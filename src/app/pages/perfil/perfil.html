<div class="px-4 py-6">
  <h2 class="text-2xl font-bold mb-6">Perfil</h2>
  @if (errorMessage) {
  <div class="mb-4 p-3 bg-red-500/20 backdrop-blur-sm rounded-lg border border-red-400/50">
    <p class="text-red-100 text-sm">{{ errorMessage }}</p>
  </div>
  }

  <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 shadow-xl mb-6">
    <div class="flex flex-col items-center">
      @if (currentUser) {
        <app-profile-photo [usuario]="currentUser" (photoUpdated)="onPhotoUpdated()"></app-profile-photo>
      }
      <h3 class="text-xl font-semibold mt-4">{{ currentUser?.nombre }}</h3>
      <p class="text-sm opacity-80"></p>
    </div>
  </div>

  <div class="space-y-4">
    <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl">
      <h3 class="font-semibold mb-2">Información</h3>
      <div class="space-y-2 text-sm">
        <div class="flex justify-between">
          <span class="opacity-80">Nombre:</span>
          <span class="font-semibold">{{ currentUser?.nombre || '-' }}</span>
        </div>
        <div class="flex justify-between">
          <span class="opacity-80">Email:</span>
          <span class="font-semibold">{{ currentUser?.email || '-' }}</span>
        </div>
        <div class="flex justify-between">
          <span class="opacity-80">Teléfono:</span>
          <span class="font-semibold">{{
            (currentUser?.codigoPais ?? '') + ' ' + (currentUser?.telefono ?? '')
          }}</span>
        </div>
      </div>
    </div>

    <!-- Gestión de Pareja -->
    <app-pareja-manager></app-pareja-manager>

    <button
      (click)="openEditModal()"
      class="w-full py-3 bg-white/20 backdrop-blur-lg text-white font-semibold rounded-xl hover:bg-white/30 transition-all shadow"
    >
      Editar Perfil
    </button>

    <button
      (click)="logout()"
      class="w-full py-3 bg-red-400/80 backdrop-blur-lg text-white font-semibold rounded-xl hover:bg-red-500/80 transition-all shadow mb-8"
    >
      Cerrar Sesión
    </button>
  </div>
</div>
